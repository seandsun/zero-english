---
import DarkMode from '@/components/ui/DarkMode.astro';
import Icon from '@/components/icons/icon.astro';
import Navbar from '@/components/layout/Navbar.astro';
---

<header
  class="bg-white/40 backdrop-blur-xs dark:bg-black/40 py-2 px-4 sticky top-0 left-0 z-10 flex justify-between items-center md:py-2 md:px-8"
>
  <nav class="max-w-3xl w-full flex justify-between items-center mx-auto">
    <a
      class="bg-black rounded-full flex justify-center items-center md:mr-[56px] md:size-10"
      href="/"
      aria-label="Logo del proyecto zero english"
    >
      <img
        src={`${import.meta.env.BASE_URL}favicon.svg`}
        alt="Logo del proyecto zero english"
      />
    </a>
    <Navbar isHorizontal={true} />
    <div
      class="text-green-400 bg-white dark:bg-neutral-700 shadow-sm size-8 rounded-full flex items-center justify-center order-3 md:order-none md:hidden"
      id="open-btn"
    >
      <Icon name="ufo" class="cursor-pointer" />
    </div>
    <div class="flex justify-center items-center order-2 md:order-none">
      <DarkMode />
    </div>
  </nav>
</header>

<div
  class="bg-gray-800/50 fixed inset-0 hidden z-[9999] md:hidden"
  id="menu-modal"
>
  <div
    class="bg-hueso-light dark:bg-gray-dark w-56 absolute right-0 h-screen flex flex-col items-end px-6 py-7"
  >
    <div
      class="text-green-400 bg-white dark:bg-neutral-700 shadow-xl size-8 rounded-full flex items-center justify-center"
      id="close-btn"
    >
      <Icon name="ufoOff" class="cursor-pointer" />
    </div>
    <Navbar />
  </div>
</div>

<script>
  const $modal = document.getElementById('menu-modal');
  const $openBtn = document.getElementById('open-btn');
  const $closeBtn = document.getElementById('close-btn');

  if ($openBtn && $closeBtn && $modal) {
    $openBtn.addEventListener('click', () => {
      $modal.classList.remove('hidden');
    });

    $closeBtn.addEventListener('click', () => {
      $modal.classList.add('hidden');
    });
  }
</script>
